---
sidebar: sidebar 
permalink: migration/shift-toolkit-install.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= Installieren und Einrichten des Shift Toolkit für ONTAP -Speicher
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Installieren Sie das Shift Toolkit auf einer dedizierten VM mit einem Windows-Betriebssystem und verwenden Sie dabei entweder Online- oder Offline-Installationsoptionen.  Dieser Prozess umfasst die Überprüfung der Installationsanforderungen, die Konfiguration von ONTAP Storage Virtual Machines (SVMs), Qtrees und CIFS-Freigaben, das Herunterladen des Installationspakets und die Ausführung des Installationsprogramms.



== Vorbereitung der Installation

Das Shift-Toolkit kann unter Windows 2019 und 2022 ausgeführt werden.

* Laden Sie das Shift-Toolkit-Paket herunter vonlink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["NetApp Toolchest"]
* Entpacken Sie das Paket
* Führen Sie die EXE-Datei aus, um den Dienst zu installieren und zu starten


Das Shift-Toolkit bietet 2 Pakete:

* Online (~130 MB groß) und
* Offline (~1,1 GB groß).


Wie der Name schon sagt, lädt das Online-Installationspaket die erforderlichen Voraussetzungen über das Internet aus dem S3-Bucket des Shift-Toolkits herunter und installiert sie.

image:shift-toolkit-003.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

Während die Online-Installation praktisch ist, bietet die Offline-Installation mehr Kontrolle über den Installationsprozess.  Mit dem Offline-Installationspaket sind alle notwendigen Voraussetzungen für die Installation des Shift-Toolkits im Paket enthalten.  Ein großer Vorteil der Offline-Installation besteht darin, dass das Shift-Toolkit auf virtuellen Maschinen ohne Internetverbindung installiert werden kann.


TIP: Verwenden Sie das entsprechende Paket für die Bereitstellung.  Im Offlinemodus müssen die Proxy-Einstellungen nicht geändert werden, da alle erforderlichen Voraussetzungen und Dateien gebündelt sind.

Das Shift-Toolkit kann auf einer virtuellen Maschine installiert werden, auf der ein VMware- oder Microsoft Hyper-V-Server ausgeführt wird, solange eine Verbindung zwischen Quell- und Zielumgebung besteht. Es empfiehlt sich, das Shift-Toolkit auf einer eigenen VM zu installieren.  Mit diesem Ansatz können Sie mit einem einzigen Shift-Toolkit-Server verschiedene Microsoft Hyper-V-Server oder VMware ESXi-Server ansprechen.


NOTE: Installieren Sie das Shift-Toolkit auf einer dedizierten VM.



== Voraussetzungen für die Installation



=== Hardwareanforderungen

Stellen Sie sicher, dass der Shift-Server-Host die Mindesthardwareanforderungen erfüllt.

Hardwareanforderungen:

* CPU: 4 vCPUs
* Speicher: mindestens 8 GB
* Festplattenspeicher: mindestens 100 GB



NOTE: Für die Installation müssen 650 MB Speicherplatz verfügbar sein.



=== Konnektivitätsanforderungen

* Stellen Sie sicher, dass der Hypervisor und die Speicherumgebung so konfiguriert sind, dass das Shift-Toolkit ordnungsgemäß mit allen Komponenten in der Umgebung interagieren kann.
* Das Shift-Toolkit muss auf einem eigenständigen Windows-Server (physisch oder virtuell) installiert werden.
* Der Shift-Server, der Data ONTAP CIFS-Server und die Hyper-V-Server müssen sich in derselben Windows Active Directory-Domäne befinden.
* Bei der VM-Konvertierung werden mehrere LIFs für CIFS und NFS zur Verwendung mit Storage Virtual Machine unterstützt.  Der Hyper-V-Server und die ESXi-Hosts greifen über die IP-Adressen dieser LIFs auf die Storage Virtual Machine (SVM) zu.
* Für CIFS-Vorgänge müssen die Zeiteinstellungen für den Windows-Domänencontroller und den NetApp Speichercontroller synchronisiert werden.




== ONTAP -Speicherkonfigurationen



=== Erstellen Sie eine neue SVM (empfohlen)

Obwohl das Shift-Toolkit die Verwendung eines vorhandenen SVM zulässt, ist es eine bewährte Methode von NetApp , ein neues SVM zu erstellen.  Verschieben Sie die zu migrierenden oder zu konvertierenden VMs mithilfe von Storage vMotion in einen neuen, ausgewiesenen NFS v3-Datenspeicher, der sich auf einer dedizierten Data ONTAP Storage Virtual Machine (SVM) befindet.  Diese auf SVMotion basierende Migration wird ohne Ausfallzeiten für die VM durchgeführt.  Bei diesem Ansatz befinden sich die für die Migration vorgesehenen VMs nicht auf der Produktions-SVM.  Verwenden Sie die ONTAP CLI, das NetApp PowerShell-Toolkit oder den System Manager, um die neue SVM zu erstellen.

Befolgen Sie die in diesem Dokument beschriebenen Schrittelink:https://docs.netapp.com/us-en/ontap/networking/create_svms.html["Link"] um eine neue SVM bereitzustellen, die sowohl das NFS- als auch das SMB-Protokoll unterstützt.


NOTE: Es empfiehlt sich, ein neues SVM zu erstellen, um sicherzustellen, dass das SVM die Anforderungen des Shift-Toolkits erfüllt, ohne das Produktions-SVM auf eine Weise ändern zu müssen, die zu Störungen führen könnte.


NOTE: Für Hyper-V-Migrationen sollte auf der neuen SVM sowohl das NFS- als auch das SMB-Protokoll aktiviert sein.  Für das bereitgestellte Volume sollten außerdem sowohl NFS als auch SMB aktiviert sein.  Wenn es sich bei dem Ziel um KVM-basierte Hypervisoren handelt, muss auf dem SVM das NFS-Protokoll aktiviert sein.



=== Qtree-Anforderungen

Auf dem Volume, das zum Hosten der von VMware zu Hyper-V zu konvertierenden VMs verwendet wird, sollte ein Qtree erstellt werden, um die VHDX-Dateien oder die qcow2- oder VHDX-Dateien, die aus VMDKs konvertiert werden, zu trennen und zu speichern.

* Für die Konvertierung von ESX zu Hyper-V platziert das Shift-Toolkit die konvertierten VHDXs auf einem Qtree (mit NTFS-Sicherheitsstil) innerhalb desselben Volumes.
* Für Konvertierungen von ESX VMDK zu QCOW2 sollte ein Qtree im UNIX-Sicherheitsstil verwendet werden.


Das Shift-Toolkit überprüft den Sicherheitsstil des Qtree nicht.  Daher ist es wichtig, den Qtree mit dem entsprechenden Sicherheitsstil basierend auf dem Zielhypervisor und dem Datenträgertyp zu erstellen.


NOTE: Der Zielpfad muss sich auf demselben Volume wie die Quell-VM befinden.


NOTE: Weisen Sie dem Qtree entsprechend dem Ziel-Hypervisortyp und dem Festplattenformat den richtigen Sicherheitsstil zu.


NOTE: Wenn die konvertierten qcow2-Dateien für die Verwendung mit der OpenShift-Virtualisierung vorgesehen sind, gibt es eine Ausnahme: Diese Dateien können ohne Verwendung eines Qtree direkt auf dem Volume platziert werden.  Um dies zu erreichen, verwenden Sie die APIs des Shift-Toolkits, um VMDK-Dateien in das qcow2-Format zu konvertieren und sie direkt im Volume zu platzieren.

Befolgen Sie die in diesem Dokument beschriebenen Schrittelink:https://docs.netapp.com/us-en/ontap/nfs-config/create-qtree-task.html["Link"] um einen Qtree mit dem richtigen Sicherheitsstil zu erstellen.

image:shift-toolkit-004.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]



=== CIFS-Freigabeanforderungen:

Erstellen Sie für Hyper-V-Migrationen eine Freigabe, in der die konvertierten VM-Daten gespeichert werden.  Stellen Sie sicher, dass sich die NFS-Freigabe (zum Speichern der zu konvertierenden VMs) und die Zielfreigabe (zum Speichern der konvertierten VMs) auf demselben Volume befinden.  Das Shift-Toolkit unterstützt keine Spanning-Funktion für mehrere Volumes.

Befolgen Sie die in diesem Dokument beschriebenen Schrittelink:https://docs.netapp.com/us-en/ontap/smb-config/create-share-task.html["Link"] um die Freigabe mit den entsprechenden Eigenschaften zu erstellen.  Stellen Sie sicher, dass Sie die Eigenschaft „Kontinuierliche Verfügbarkeit“ zusammen mit den anderen Standardeigenschaften auswählen.

image:shift-toolkit-005.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

image:shift-toolkit-006.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]


NOTE: SMB 3.0 muss aktiviert sein, dies ist standardmäßig aktiviert.


NOTE: Stellen Sie sicher, dass die Eigenschaft „Kontinuierlich verfügbar“ aktiviert ist.


NOTE: Exportrichtlinien für SMB müssen auf der Storage Virtual Machine (SVM) deaktiviert werden


NOTE: Die Domäne, zu der der CIFS-Server und die Hyper-V-Server gehören, muss sowohl die Kerberos- als auch die NTLMv2-Authentifizierung zulassen.


NOTE: ONTAP erstellt die Freigabe mit der Windows-Standardfreigabeberechtigung „Jeder/Vollzugriff“.



== Unterstützte Betriebssysteme

Stellen Sie sicher, dass für die Konvertierung unterstützte Versionen der Windows- und Linux-Gastbetriebssysteme verwendet werden und dass das Shift-Toolkit die ONTAP-Version unterstützt.

*Unterstützte VM-Gastbetriebssysteme*

Die folgenden Windows-Versionen werden als Gastbetriebssysteme für VM-Konvertierungen unterstützt:

* Windows 10
* Windows 11
* Windows Server 2016
* Windows Server 2019
* Windows Server 2022
* Windows Server 2025


Die folgenden Linux-Versionen werden als Gastbetriebssysteme für VM-Konvertierungen unterstützt:

* CentOS Linux 7.x
* Red Hat Enterprise Linux 6.7 oder höher
* Red Hat Enterprise Linux 7.2 oder höher
* Red Hat Enterprise Linux 8.x
* Red Hat Enterprise Linux 9.x
* Ubuntu 2018
* Ubuntu 2022
* Ubuntu 2024
* Debian 10
* Debian 11
* Debian 12
* Suse 12
* Suse 15



NOTE: CentOS Linux/RedHat für Red Hat Enterprise Linux 5 wird nicht unterstützt.


NOTE: Windows Server 2008 wird nicht unterstützt, der Konvertierungsprozess sollte jedoch problemlos funktionieren.  Gehen Sie auf eigenes Risiko vor. Wir haben jedoch Berichte von Kunden erhalten, die das Shift-Toolkit erfolgreich zum Konvertieren von Windows 2008-VMs verwendet haben.  Es ist wichtig, die IP-Adresse nach der Migration zu aktualisieren, da die für die Automatisierung der IP-Zuweisung verwendete PowerShell-Version nicht mit der älteren Version kompatibel ist, die auf Windows Server 2008 ausgeführt wird.

*Unterstützte Versionen von ONTAP*

Das Shift-Toolkit unterstützt Plattformen mit ONTAP 9.14.1 oder höher

*Unterstützte Versionen von Hypervisoren*

VMware: Das Shift-Toolkit ist für vSphere 7.0.3 und höher validiert. Hyper-V: Das Shift-Toolkit ist für die Hyper-V-Rolle validiert, die auf Windows Server 2019, Windows Server 2022 und Windows Server 2025 ausgeführt wird.


NOTE: In der aktuellen Version wird die End-to-End-Migration virtueller Maschinen nur mit Hyper-V unterstützt.


NOTE: In der aktuellen Version ist für KVM als Ziel die Konvertierung von VMDK in qcow2 der einzige unterstützte Workflow.  Wenn KVM aus der Dropdown-Liste ausgewählt wird, sind daher keine Hypervisor-Details erforderlich.  Die qcow2-Festplatte kann zum Bereitstellen virtueller Maschinen auf KVM-Varianten verwendet werden.



== Installation

. Herunterladenlink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit["Shift-Toolkit-Paket"] und entpacken Sie es.
+
image:shift-toolkit-007.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Starten Sie die Installation des Shift-Toolkits, indem Sie auf die heruntergeladene EXE-Datei doppelklicken.
+
image:shift-toolkit-008.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

+

NOTE: Es werden alle Vorprüfungen durchgeführt und bei Nichterfüllung der Mindestanforderungen entsprechende Fehler- oder Warnmeldungen angezeigt.

. Das Installationsprogramm beginnt mit dem Installationsvorgang.  Wählen Sie den entsprechenden Speicherort aus oder verwenden Sie die Standardplatzierung und klicken Sie auf „Weiter“.
+
image:shift-toolkit-009.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Das Installationsprogramm fordert Sie auf, die IP-Adresse auszuwählen, die für den Zugriff auf die Shift-Toolkit-Benutzeroberfläche verwendet wird.
+
image:shift-toolkit-010.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

+

NOTE: Der Einrichtungsprozess ermöglicht die Auswahl der richtigen IP-Adresse mithilfe einer Dropdown-Option, wenn der VM mehrere Netzwerkkarten zugewiesen sind.

. In diesem Schritt zeigt das Installationsprogramm alle erforderlichen Komponenten an, die im Rahmen des Vorgangs automatisch heruntergeladen und installiert werden.  Für die ordnungsgemäße Funktion des Shift-Toolkits müssen die folgenden obligatorischen Komponenten installiert werden: MongoDB, Windows PowerShell 7, NetApp ONTAP PowerShell Toolkit, Richtliniendatei-Editor, Credential Manage, VMware.PowerCLI-Paket und Java OpenJDK, die alle im Paket enthalten sind.
+
Klicken Sie auf *Weiter*

+
image:shift-toolkit-011.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Lesen Sie die Lizenzinformationen zu JAVA OpenJDK GNU. Klicken Sie auf Weiter.
+
image:shift-toolkit-012.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Behalten Sie die Standardeinstellung zum Erstellen der Desktopverknüpfung bei und klicken Sie auf Weiter.
+
image:shift-toolkit-013.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Das Setup ist jetzt bereit, mit der Installation fortzufahren.  Klicken Sie auf Installieren.
+
image:shift-toolkit-014.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Die Installation beginnt und der Vorgang lädt die erforderlichen Komponenten herunter und installiert sie.  Klicken Sie anschließend auf „Fertig“.
+
image:shift-toolkit-015.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]




NOTE: Wenn die Shift-Toolkit-VM nicht über Internet verfügt, führt das Offline-Installationsprogramm dieselben Schritte aus, installiert die Komponenten jedoch mithilfe der in der ausführbaren Datei enthaltenen Pakete.

image:shift-toolkit-016.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]


NOTE: Die Installation kann 8–10 Minuten dauern.



== Durchführen eines Upgrades

Laden Sie dielink:https://mysupport.netapp.com/site/tools/tool-eula/netapp-shift-toolkit/download["Upgrade-Paket"] Beginnen Sie mit „Update“ und befolgen Sie die folgenden Schritte:

image:shift-toolkit-017.png["Abbildung, die einen Eingabe-/Ausgabedialog zeigt oder schriftlichen Inhalt darstellt"]

. Extrahieren Sie die Dateien in einen bestimmten Ordner.
. Beenden Sie nach der Extraktion den NetApp Shift-Dienst.
. Kopieren Sie alle Dateien aus dem extrahierten Ordner in das Installationsverzeichnis und überschreiben Sie die Dateien, wenn Sie dazu aufgefordert werden.
. Führen Sie anschließend die Datei update.bat mit der Option „Als Administrator ausführen“ aus und geben Sie bei entsprechender Aufforderung die IP-Adresse der Shift Toolkit-VM ein.
. Dieser Vorgang aktualisiert und startet den Shift-Dienst.

